(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e2e1f4a"],{2375:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner"},[n("div",{staticClass:"bouncing-loader"},[n("div"),n("div"),n("div")])])}],s=(n("4010"),n("2877")),r={},i=Object(s["a"])(r,o,a,!1,null,"da50595c",null);e["a"]=i.exports},"38e9":function(t,e,n){},4010:function(t,e,n){"use strict";n("8227")},"4b04":function(t,e,n){"use strict";n("38e9")},8227:function(t,e,n){},d81d:function(t,e,n){"use strict";var o=n("23e7"),a=n("b727").map,s=n("1dde"),r=s("map");o({target:"Array",proto:!0,forced:!r},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},e6cd:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.isLoading?n("Spinner"):n("div",{staticClass:"follow-list"},t._l(t.Followings,(function(e){return n("div",{key:e.followingId,staticClass:"follow-card"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:e.avatar,alt:"avatar"}})]),n("div",{staticClass:"user-info"},[n("div",{staticClass:"name"},[t._v(t._s(e.name))]),n("div",{staticClass:"user-account"},[t._v(t._s(e.account))]),n("div",{staticClass:"tweet-content"},[t._v(" "+t._s(e.introduction)+" ")])]),n("div",{staticClass:"function-btn"},[e.isFollowed?n("div",{staticClass:"follow-btn",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.deleteFollowList(e.followingId)}}},[t._v(" 正在跟隨 ")]):n("div",{staticClass:"unfollow-btn",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.addFollowList(e.followingId)}}},[t._v(" 跟隨 ")])])])})),0)],1)},a=[],s=n("1da1"),r=n("5530"),i=(n("96cf"),n("d81d"),n("1602")),l=n("c968"),c=n("2375"),u={name:"UserFollowingList",components:{Spinner:c["a"]},props:{relateToUser:{type:Object}},watch:{relateToUser:function(t){var e=t.id,n=t.isFollowed;this.Followings=this.Followings.map((function(t){return t.followingId===e?Object(r["a"])(Object(r["a"])({},t),{},{isFollowed:n}):t}))}},data:function(){return{id:this.$route.params.id,Followings:[],isLoading:!0}},created:function(){this.fetchUserFollowings(this.id)},methods:{fetchUserFollowings:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i["a"].getUserFollowings({userId:t});case 3:o=n.sent,a=o.data,e.Followings=a,e.isLoading=!1,n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},addFollowList:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i["a"].follow({id:t});case 3:if(o=n.sent,a=o.data,"success"===a.status){n.next=7;break}throw new Error(a.message);case 7:e.Followings=e.Followings.map((function(e){return e.followingId===t?Object(r["a"])(Object(r["a"])({},e),{},{isFollowed:!0}):e})),e.$emit("tap-follow-button",{id:t,isFollowed:!0}),n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](0),console.error(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()},deleteFollowList:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i["a"].unFollow({userId:t});case 3:if(o=n.sent,a=o.data,console.log("data",a),"success"===a.status){n.next=8;break}throw new Error(a.message);case 8:e.Followings=e.Followings.map((function(e){return e.followingId===t?Object(r["a"])(Object(r["a"])({},e),{},{isFollowed:!1}):e})),e.$emit("tap-follow-button",{id:t,isFollowed:!1}),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](0),l["a"].fire({icon:"warning",title:"無法刪除，請稍後再試"});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()}}},d=u,w=(n("4b04"),n("2877")),f=Object(w["a"])(d,o,a,!1,null,"5e32ccb4",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-9e2e1f4a.02096b48.js.map