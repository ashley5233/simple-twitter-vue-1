(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ce5415ac"],{"031e":function(t,e,s){"use strict";s("fb7c")},2375:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"spinner"},[s("div",{staticClass:"bouncing-loader"},[s("div"),s("div"),s("div")])])}],n=(s("4010"),s("2877")),r={},o=Object(n["a"])(r,a,i,!1,null,"da50595c",null);e["a"]=o.exports},4010:function(t,e,s){"use strict";s("8227")},"61f2":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("input",{staticClass:"navbar-toggle",attrs:{type:"checkbox",id:"navbar-toggle"}}),t.isLoading?s("Spinner"):s("div",{staticClass:"related-users-card"},[s("div",{staticClass:"header"},[t._v("跟隨誰")]),t._l(t.relatedUsers,(function(e){return s("div",{key:e.id,staticClass:"single-user",on:{click:function(s){return t.redirectToProfile(e.id)}}},[s("div",{staticClass:"avatar"},[s("img",{staticClass:"avatar-img",attrs:{src:e.avatar,alt:""}})]),s("div",{staticClass:"info"},[s("div",{staticClass:"name"},[t._v(t._s(e.name))]),s("div",{staticClass:"account"},[t._v(t._s(e.account))])]),e.isFollowed?s("button",{staticClass:"main-btn following-btn",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.unFollow(e.id)}}},[t._v(" 正在跟隨 ")]):s("button",{staticClass:"follow-btn",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.follow(e.id)}}},[t._v(" 跟隨 ")])])}))],2),s("div",{staticClass:"footer"},[t.isShowMore?s("label",{staticClass:"navbar-toggle-label",attrs:{for:"navbar-toggle"},on:{click:t.showLess}},[s("div",{staticClass:"show-less-btn"},[t._v("顯示較少")])]):s("label",{staticClass:"navbar-toggle-label",attrs:{for:"navbar-toggle"},on:{click:t.showMore}},[s("div",{staticClass:"show-more-btn"},[t._v("顯示更多")])])])],1)},i=[],n=s("1da1"),r=s("5530"),o=(s("96cf"),s("d81d"),s("2375")),c=s("1602"),l=s("c968"),u=s("2f62"),d={name:"RelatedUsers",components:{Spinner:o["a"]},props:{isFollowStatus:{type:Object}},data:function(){return{relatedUsers:[],isShowMore:!1,isLoading:!0}},watch:{isFollowStatus:function(t){this.relatedUsers=this.relatedUsers.map((function(e){return e.id===t.id?Object(r["a"])(Object(r["a"])({},e),{},{isFollowed:t.isFollowed}):e})),this.$emit("tap-follow-button",{id:t.id,isFollowed:t.isFollowed})}},methods:{showMore:function(){this.isShowMore=!0},showLess:function(){this.isShowMore=!1},follow:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,c["a"].follow({id:t});case 3:if(a=s.sent,i=a.data,"success"===i.status){s.next=7;break}throw new Error(i.message);case 7:e.relatedUsers=e.relatedUsers.map((function(e){return e.id===t?Object(r["a"])(Object(r["a"])({},e),{},{isFollowed:!0}):e})),e.$emit("related-to-userFollow",{id:t,isFollowed:!0}),s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](0),l["a"].fire({icon:"warning",title:"無法追蹤，請稍後再試"});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})))()},unFollow:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){var a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,c["a"].unFollow({userId:t});case 3:if(a=s.sent,i=a.data,"success"===i.status){s.next=7;break}throw new Error(i.message);case 7:e.relatedUsers=e.relatedUsers.map((function(e){return e.id===t?Object(r["a"])(Object(r["a"])({},e),{},{isFollowed:!1}):e})),e.$emit("related-to-userFollow",{id:t,isFollowed:!1}),s.next=14;break;case 11:s.prev=11,s.t0=s["catch"](0),l["a"].fire({icon:"warning",title:"無法取消追蹤，請稍後再試"});case 14:case"end":return s.stop()}}),s,null,[[0,11]])})))()},fetchTopUsers:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].getTopUsers();case 3:s=e.sent,a=s.data,i=a.topUsers,t.relatedUsers=i,t.isLoading=!1,e.next=15;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0),l["a"].fire({icon:"warning",title:"無法取得使用者資料，請稍後再試"}),t.isLoading=!1;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()},redirectToProfile:function(t){t===this.currentUser.id?this.$router.push("/user/self"):(this.$router.push({path:"/user/other/".concat(t,"/tweet")}),this.$emit("updateUser",t))}},computed:Object(r["a"])({},Object(u["b"])(["currentUser"])),created:function(){this.fetchTopUsers()}},f=d,v=(s("031e"),s("2877")),h=Object(v["a"])(f,a,i,!1,null,"bd73e1d8",null);e["a"]=h.exports},"69b0":function(t,e,s){"use strict";s("f37d")},"73a6":function(t,e,s){},8227:function(t,e,s){},a170:function(t,e,s){"use strict";s("73a6")},b9da:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"rwd-container"},[s("div",{staticClass:"notify-container"},[s("div",{staticClass:"navbar"},[s("Navbar")],1),s("div",{staticClass:"notify-box scrollbar"},[s("NotifyBox")],1),s("div",{staticClass:"related-users"},[s("RelatedUsers")],1)])])},i=[],n=s("d178"),r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"notify-box-container"},[s("div",{staticClass:"title"},[t._v("通知")]),s("div",{staticClass:"single-notify"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:"https://image6.thenewslens.com/2020/5/2iw6hkryl5nirhpbq2roh84xnzthf9.jpg?auto=compress&h=450&q=80&w=750",alt:""}})]),s("div",{staticClass:"notify-title"},[t._v("Google 有新的推文通知")]),s("div",{staticClass:"notify-content"},[t._v(" 以我們對社群媒體的瞭解，訂閱通知範疇可以無限延伸，可訂閱通知的範圍愈大，你就愈能引發使用者的社群媒體焦慮感！不過，以【Simple Twitter】專案來說，做到這裡就夠了。 以上！希望你透過這一系列挑戰題，完成對 web socket 與相關技術的密集攻略！ ")])]),s("div",{staticClass:"single-notify"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:"https://image6.thenewslens.com/2020/5/2iw6hkryl5nirhpbq2roh84xnzthf9.jpg?auto=compress&h=450&q=80&w=750",alt:""}})]),s("div",{staticClass:"notify-title"},[t._v("Google 有新的推文通知")]),s("div",{staticClass:"notify-content"},[t._v(" 以我們對社群媒體的瞭解，訂閱通知範疇可以無限延伸，可訂閱通知的範圍愈大，你就愈能引發使用者的社群媒體焦慮感！不過，以【Simple Twitter】專案來說，做到這裡就夠了。 以上！希望你透過這一系列挑戰題，完成對 web socket 與相關技術的密集攻略！ ")])]),s("div",{staticClass:"single-notify"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:"https://image6.thenewslens.com/2020/5/2iw6hkryl5nirhpbq2roh84xnzthf9.jpg?auto=compress&h=450&q=80&w=750",alt:""}})]),s("div",{staticClass:"notify-title"},[t._v("Google 有新的推文通知")]),s("div",{staticClass:"notify-content"},[t._v(" 以我們對社群媒體的瞭解，訂閱通知範疇可以無限延伸，可訂閱通知的範圍愈大，你就愈能引發使用者的社群媒體焦慮感！不過，以【Simple Twitter】專案來說，做到這裡就夠了。 以上！希望你透過這一系列挑戰題，完成對 web socket 與相關技術的密集攻略！ ")])])])}],c={name:"NotifyBox"},l=c,u=(s("a170"),s("2877")),d=Object(u["a"])(l,r,o,!1,null,"2a98f07e",null),f=d.exports,v=s("61f2"),h={name:"Notify",components:{Navbar:n["a"],RelatedUsers:v["a"],NotifyBox:f}},p=h,w=(s("69b0"),Object(u["a"])(p,a,i,!1,null,"3387cd12",null));e["default"]=w.exports},d81d:function(t,e,s){"use strict";var a=s("23e7"),i=s("b727").map,n=s("1dde"),r=n("map");a({target:"Array",proto:!0,forced:!r},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},f37d:function(t,e,s){},fb7c:function(t,e,s){}}]);
//# sourceMappingURL=chunk-ce5415ac.2c463ebc.js.map