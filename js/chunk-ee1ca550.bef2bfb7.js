(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee1ca550"],{"0b9f":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[e.isLoading?r("Spinner"):r("div",{staticClass:"follow-list"},e._l(e.Followers,(function(t){return r("div",{key:t.followerId,staticClass:"follow-card"},[r("div",{staticClass:"avatar"},[r("img",{attrs:{src:t.avatar,alt:"avatar"}})]),r("div",{staticClass:"user-info"},[r("div",{staticClass:"name"},[e._v(e._s(t.name))]),r("div",{staticClass:"user-account"},[e._v(e._s(t.account))]),r("div",{staticClass:"tweet-content"},[e._v(" "+e._s(t.introduction)+" ")])]),r("div",{staticClass:"function-btn"},[t.isFollowed?r("div",{staticClass:"follow-btn",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.deleteFollowList(t.followerId)}}},[e._v(" 正在跟隨 ")]):r("div",{staticClass:"unfollow-btn",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),e.addFollowList(t.followerId)}}},[e._v(" 跟隨 ")])])])})),0)],1)},a=[],o=r("1da1"),s=r("5530"),i=(r("96cf"),r("d81d"),r("1602")),l=r("c968"),c=r("2375"),u={name:"UserFollowerList",components:{Spinner:c["a"]},data:function(){return{id:this.$route.params.id,Followers:[],isLoading:!0}},props:{relateToUser:{type:Object}},watch:{relateToUser:function(e){var t=e.id,r=e.isFollowed;this.Followers=this.Followers.map((function(e){return e.followerId===t?Object(s["a"])(Object(s["a"])({},e),{},{isFollowed:r}):e}))}},created:function(){this.fetchUserFollowers(this.id)},methods:{fetchUserFollowers:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i["a"].getUserFollowers({userId:e});case 3:n=r.sent,a=n.data,t.Followers=a,t.isLoading=!1,r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),console.error(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},addFollowList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i["a"].follow({id:e});case 3:if(n=r.sent,a=n.data,"success"===a.status){r.next=7;break}throw new Error(a.message);case 7:t.Followers=t.Followers.map((function(t){return t.followerId===e?Object(s["a"])(Object(s["a"])({},t),{},{isFollowed:!0}):t})),t.$emit("tap-follow-button",{id:e,isFollowed:!0}),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](0),l["a"].fire({icon:"warning",title:"無法新增，請稍後再試。"}),console.error(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()},deleteFollowList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i["a"].unFollow({userId:e});case 3:if(n=r.sent,a=n.data,"success"===a.status){r.next=7;break}throw new Error(a.message);case 7:t.Followers=t.Followers.map((function(t){return t.followerId===e?Object(s["a"])(Object(s["a"])({},t),{},{isFollowed:!1}):t})),t.$emit("tap-follow-button",{id:e,isFollowed:!1}),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](0),l["a"].fire({icon:"warning",title:"無法刪除，請稍後再試"});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})))()}}},d=u,f=(r("1fad"),r("2877")),w=Object(f["a"])(d,n,a,!1,null,"6b6a6474",null);t["default"]=w.exports},"1fad":function(e,t,r){"use strict";r("e98a")},2375:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"spinner"},[r("div",{staticClass:"bouncing-loader"},[r("div"),r("div"),r("div")])])}],o=(r("4010"),r("2877")),s={},i=Object(o["a"])(s,n,a,!1,null,"da50595c",null);t["a"]=i.exports},4010:function(e,t,r){"use strict";r("8227")},8227:function(e,t,r){},d81d:function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").map,o=r("1dde"),s=o("map");n({target:"Array",proto:!0,forced:!s},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},e98a:function(e,t,r){}}]);
//# sourceMappingURL=chunk-ee1ca550.bef2bfb7.js.map