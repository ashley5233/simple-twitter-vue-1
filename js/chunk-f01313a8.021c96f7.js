(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f01313a8"],{2375:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spinner"},[a("div",{staticClass:"bouncing-loader"},[a("div"),a("div"),a("div")])])}],r=(a("4010"),a("2877")),i={},o=Object(r["a"])(i,s,n,!1,null,"da50595c",null);e["a"]=o.exports},3682:function(t,e,a){"use strict";a("d1dd")},4010:function(t,e,a){"use strict";a("8227")},"43a0":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t.isLoading?a("Spinner"):t._l(t.tweets,(function(e){return a("div",{key:e.TweetId,staticClass:"tweet-reply"},[a("div",{staticClass:"reply-avatar"},[a("img",{staticClass:"avatar-img",attrs:{src:e.User.avatar,alt:""}})]),a("div",{staticClass:"reply-user-info",on:{click:function(a){return t.redirectToTweet(e.TweetId)}}},[a("div",{staticClass:"reply-user"},[a("h3",{staticClass:"reply-user-name"},[t._v(t._s(e.User.name))]),a("h3",{staticClass:"reply-user-account"},[t._v(t._s(e.User.account)+"．")]),t._v(" "+t._s(t._f("fromNow")(e.createdAt))+" ")]),a("div",{staticClass:"tweet-content"},[a("h3",{staticClass:"content"},[t._v(" "+t._s(e.description)+" ")])]),a("div",{staticClass:"reply-detail"},[a("div",{staticClass:"reply"},[a("div",{staticClass:"reply-icon-wrapper",on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.showModal(e)}}},[a("svg",{staticClass:"reply-icon",attrs:{width:"21",height:"21",viewBox:"0 0 13 13",fill:"transparent",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{staticClass:"reply-icon",attrs:{d:"M7.77881 0.40127L5.18631 0.39502H5.18506C2.45131 0.39502 0.310059 2.53689 0.310059 5.27127C0.310059 7.83252 2.30131 9.77502 4.97568 9.87752V12.27C4.97568 12.3375 5.00318 12.4488 5.05068 12.5219C5.13943 12.6625 5.29068 12.7388 5.44568 12.7388C5.53193 12.7388 5.61881 12.715 5.69693 12.665C5.86193 12.56 9.74256 10.0775 10.7519 9.22377C11.9407 8.21752 12.6519 6.74252 12.6538 5.27877V5.26814C12.6501 2.53877 10.5101 0.401269 7.77881 0.400644V0.40127ZM10.1457 8.50877C9.43693 9.10877 7.10693 10.6369 5.91318 11.4106V9.41877C5.91318 9.16002 5.70381 8.95002 5.44443 8.95002H5.19693C2.90943 8.95002 1.24818 7.40252 1.24818 5.27127C1.24818 3.06252 2.97818 1.33252 5.18568 1.33252L7.77756 1.33877H7.77881C9.98631 1.33877 11.7163 3.06752 11.7176 5.27377C11.7157 6.46752 11.1288 7.67627 10.1463 8.50877H10.1457Z",fill:"#657786"}})])]),a("div",{staticClass:"reply-count"},[t._v(t._s(e.RepliesCount))])]),a("div",{staticClass:"like"},[a("div",{staticClass:"heart-icon-wrapper"},[e.isLike?a("img",{staticClass:"heart-icon",attrs:{src:"heartSmallRed.svg",alt:""},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.unlike(e)}}}):a("svg",{staticClass:"heart-icon",attrs:{width:"20",height:"20",viewBox:"0 0 13 13",fill:"transparent",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.like(e)}}},[a("path",{staticClass:"heart-icon",attrs:{d:"M6.5 12.5239H6.49125C4.87687 12.4939 0.21875 8.28514 0.21875 4.29889C0.21875 2.38389 1.79687 0.702637 3.59562 0.702637C5.02687 0.702637 5.98937 1.69014 6.49937 2.40889C7.00812 1.69139 7.97062 0.702637 9.4025 0.702637C11.2025 0.702637 12.78 2.38389 12.78 4.29951C12.78 8.28451 8.12125 12.4933 6.50687 12.5226H6.5V12.5239ZM3.59625 1.64076C2.29625 1.64076 1.15687 2.88326 1.15687 4.30014C1.15687 7.88764 5.55312 11.5476 6.50062 11.5864C7.44937 11.5476 11.8444 7.88826 11.8444 4.30014C11.8444 2.88326 10.705 1.64076 9.405 1.64076C7.825 1.64076 6.9425 3.47576 6.935 3.49389C6.79125 3.84514 6.2125 3.84514 6.06812 3.49389C6.05937 3.47514 5.1775 1.64076 3.59687 1.64076H3.59625Z",fill:"#657786"}})])]),a("div",{staticClass:"like-count"},[t._v(t._s(e.LikesCount))])])])])])})),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowModal,expression:"isShowModal"}],staticClass:"reply-modal"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[a("div",{staticClass:"close-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closeModal.apply(null,arguments)}}},[a("img",{attrs:{src:"cross.svg",alt:""}})])]),a("div",{staticClass:"replied-tweet"},[a("div",{staticClass:"reply-avatar"},[a("img",{staticClass:"avatar-img",attrs:{src:t.nowModal.User.avatar,alt:""}}),a("div",{staticClass:"line"})]),a("div",{staticClass:"replied-content"},[a("div",{staticClass:"reply-user-info"},[a("div",{staticClass:"reply-user"},[a("h3",{staticClass:"reply-user-name"},[t._v(t._s(t.nowModal.User.name))]),a("h3",{staticClass:"reply-user-account"},[t._v(" "+t._s(t.nowModal.User.account)+"． ")]),t._v(" 2 小時 ")]),a("div",{staticClass:"tweet-content"},[a("h3",{staticClass:"content"},[t._v(" "+t._s(t.nowModal.description)+" ")])])]),a("div",{staticClass:"replied-author"},[a("h3",{staticClass:"reply-text"},[t._v("回覆給 ")]),a("h3",{staticClass:"replid-author-name"},[t._v(t._s(t.nowModal.User.account))])])])]),a("div",{staticClass:"modal-content"},[a("div",{staticClass:"avatar"},[a("img",{staticClass:"avatar-img",attrs:{src:t.currentUser.avatar,alt:""}})]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"twitter-text",attrs:{placeholder:"推你的回覆",maxlength:"200"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})]),a("button",{staticClass:"main-btn post-btn",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.replyTweet.apply(null,arguments)}}},[t._v(" 回覆 ")])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowModal,expression:"isShowModal"}],staticClass:"cover",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closeModal.apply(null,arguments)}}})],2)},n=[],r=a("5530"),i=a("1da1"),o=(a("b0c0"),a("96cf"),a("1602")),c=a("7482"),l=a("c968"),u=a("2f62"),d=a("2375"),p=a("2708"),v={name:"UserTweets",components:{Spinner:d["a"]},mixins:[p["a"]],data:function(){return{tweets:[],isShowModal:!1,nowPage:"main",nowPageId:-1,nowModal:{id:-1,createdAt:"",description:"",LikesCount:-1,RepliesCount:-1,isLike:"false",User:{id:-1,name:"",account:"",avatar:""}},comment:"",isLoading:!0}},methods:{showModal:function(t){this.nowModal=t,this.isShowModal=!0},closeModal:function(){this.isShowModal=!1},fetchData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"user-other-like"!==t.nowPage){e.next=10;break}return a=t.nowPageId,e.next=5,o["a"].getSingleUserLikeTweets({userId:a});case 5:s=e.sent,n=s.data,t.tweets=n,e.next=17;break;case 10:if("user-self-like"!=t.nowPage){e.next=17;break}return r=t.currentUser.id,e.next=14,o["a"].getSingleUserLikeTweets({userId:r});case 14:i=e.sent,c=i.data,t.tweets=c;case 17:t.isLoading=!1,e.next=25;break;case 20:e.prev=20,e.t0=e["catch"](0),console.log(e.t0),l["a"].fire({icon:"warning",title:"無法取得推文，請稍後再試"}),t.isLoading=!1;case 25:case"end":return e.stop()}}),e,null,[[0,20]])})))()},replyTweet:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.nowModal.TweetId,s=t.comment,e.next=5,c["a"].replySingleTweet({tweet_id:a,comment:s});case 5:if(n=e.sent,r=n.data,"success"===r.status){e.next=9;break}throw new Error(r.message);case 9:t.fetchData(),t.comment="",t.isShowModal=!1,e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](0),console.log(e.t0),l["a"].fire({icon:"warning",title:"無法回覆推文，請稍後再試"});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))()},like:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.TweetId,e.next=4,c["a"].likeSingleTweet({TweetId:a});case 4:if(s=e.sent,n=s.data,t.isLike=!0,"success"===n.status){e.next=9;break}throw new Error(n.message);case 9:t.LikesCount+=1,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),l["a"].fire({icon:"warning",title:"無法喜歡推文，請稍後再試"});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()},unlike:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t.TweetId,e.next=4,c["a"].unlikeSingleTweet({TweetId:a});case 4:if(s=e.sent,n=s.data,t.isLike=!1,"success"===n.status){e.next=9;break}throw new Error(n.message);case 9:t.LikesCount-=1,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log(e.t0),l["a"].fire({icon:"warning",title:"無法取消喜歡，請稍後再試"});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))()},redirectToTweet:function(t){console.log(t),this.$router.push({path:"/reply_list/".concat(t)})}},computed:Object(r["a"])({},Object(u["b"])(["currentUser"])),watch:{nowModal:function(){this.$forceUpdate()}},created:function(){this.nowPage=this.$route.name,this.$route.params.id&&(this.nowPageId=this.$route.params.id),this.fetchData()}},w=v,f=(a("3682"),a("2877")),h=Object(f["a"])(w,s,n,!1,null,"54379ea7",null);e["default"]=h.exports},7482:function(t,e,a){"use strict";a("a4d3"),a("e01a");var s=a("c968");e["a"]={getTweets:function(){return s["c"].get("/tweets")},createTweet:function(t){var e=t.description;return s["c"].post("/tweets",{description:e})},getUserTweets:function(t){var e=t.userId;return s["c"].get("/users/".concat(e,"/tweets"))},getSingleTweet:function(t){var e=t.tweet_id;return s["c"].get("/tweets/".concat(e))},replySingleTweet:function(t){var e=t.tweet_id,a=t.comment;return s["c"].post("/tweets/".concat(e,"/replies"),{comment:a})},likeSingleTweet:function(t){var e=t.TweetId;return s["c"].post("/tweets/".concat(e,"/like"),null)},unlikeSingleTweet:function(t){var e=t.TweetId;return s["c"].post("/tweets/".concat(e,"/unlike"),null)}}},8227:function(t,e,a){},d1dd:function(t,e,a){},e01a:function(t,e,a){"use strict";var s=a("23e7"),n=a("83ab"),r=a("da84"),i=a("5135"),o=a("861d"),c=a("9bf2").f,l=a("e893"),u=r.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(p,u);var v=p.prototype=u.prototype;v.constructor=p;var w=v.toString,f="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;c(v,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=w.call(t);if(i(d,t))return"";var a=f?e.slice(7,-1):e.replace(h,"$1");return""===a?void 0:a}}),s({global:!0,forced:!0},{Symbol:p})}}}]);
//# sourceMappingURL=chunk-f01313a8.021c96f7.js.map